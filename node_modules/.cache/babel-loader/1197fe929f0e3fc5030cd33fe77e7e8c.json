{"ast":null,"code":"var _jsxFileName = \"/home/alta19/Downloads/ecomfront/src/pages/history/History.js\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../../store\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nclass History extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = async () => {\n      const self = this;\n      await axios.get(this.props.host + \"order\", {\n        headers: {\n          Authorization: \"Bearer \" + String(localStorage.getItem(\"user_token\"))\n        }\n      }).then(response => {\n        this.setState({\n          trx_details: response.data\n        });\n        response.data.map((item, index) => {\n          if (item.status == \"20\") {\n            var joined = this.state.status.concat(\"Sudah Dikirim\");\n            this.setState({\n              status: joined\n            });\n          } else if (item.status == \"30\") {\n            var joined = this.state.status.concat(\"Sudah Sampai\");\n            this.setState({\n              status: joined\n            });\n          }\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      trx_details: [],\n      status: []\n    };\n  }\n\n  render() {\n    if (localStorage.getItem(\"logged_in\") == \"true\") {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          minHeight: \"100vh\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        class: \"h3 mb-3 font-weight-normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Riwayat Transaksi\"), React.createElement(\"table\", {\n        class: \"table table-bordered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"No\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Nama Penerima\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Total Harga\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Status Pengiriman\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Waktu Transaksi\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.trx_details.map((item, index) => {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, index + 1), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, item.full_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, item.total_price), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, this.state.status[index]), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, item.created_at.slice(0, 26)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/invoice/\" + item.transaction_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, \"Lihat Invoice\")));\n      })))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }));\n    } else {\n      alert(\"Silakan Sign In Terlebih Dahulu!\");\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default connect(\"host\", actions)(History);","map":{"version":3,"sources":["/home/alta19/Downloads/ecomfront/src/pages/history/History.js"],"names":["Header","Footer","React","axios","connect","actions","Redirect","Link","History","Component","constructor","props","componentDidMount","self","get","host","headers","Authorization","String","localStorage","getItem","then","response","setState","trx_details","data","map","item","index","status","joined","state","concat","catch","error","console","log","render","minHeight","full_name","total_price","created_at","slice","transaction_id","alert"],"mappings":"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","sourcesContent":["import Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../../store\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nclass History extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trx_details: [],\n      status: []\n    };\n  }\n\n  componentDidMount = async () => {\n    const self = this;\n    await axios\n      .get(this.props.host + \"order\", {\n        headers: {\n          Authorization: \"Bearer \" + String(localStorage.getItem(\"user_token\"))\n        }\n      })\n      .then(response => {\n        this.setState({ trx_details: response.data });\n        response.data.map((item, index) => {\n          if (item.status == \"20\") {\n            var joined = this.state.status.concat(\"Sudah Dikirim\");\n            this.setState({ status: joined });\n          } else if (item.status == \"30\") {\n            var joined = this.state.status.concat(\"Sudah Sampai\");\n            this.setState({ status: joined });\n          }\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (localStorage.getItem(\"logged_in\") == \"true\") {\n      return (\n        <div>\n          <Header />\n          <div className=\"container\" style={{ minHeight: \"100vh\" }}>\n            <div className=\"row justify-content-center\">\n              <div className=\"col-md-12 text-center\">\n                <br />\n                <h3 class=\"h3 mb-3 font-weight-normal\">Riwayat Transaksi</h3>\n                <table class=\"table table-bordered\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">No</th>\n                      <th scope=\"col\">Nama Penerima</th>\n                      <th scope=\"col\">Total Harga</th>\n                      <th scope=\"col\">Status Pengiriman</th>\n                      <th scope=\"col\">Waktu Transaksi</th>\n                      <th scope=\"col\">Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {this.state.trx_details.map((item, index) => {\n                      return (\n                        <tr>\n                          <th scope=\"row\">{index + 1}</th>\n\n                          <td>{item.full_name}</td>\n                          <td>{item.total_price}</td>\n                          <td>{this.state.status[index]}</td>\n                          <td>{item.created_at.slice(0, 26)}</td>\n                          <td>\n                            <Link to={\"/invoice/\" + item.transaction_id}>\n                              Lihat Invoice\n                            </Link>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n          <Footer />\n        </div>\n      );\n    } else {\n      alert(\"Silakan Sign In Terlebih Dahulu!\");\n      return <Redirect to=\"/\" />;\n    }\n  }\n}\n\nexport default connect(\n  \"host\",\n  actions\n)(History);\n"]},"metadata":{},"sourceType":"module"}